<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html" lang="es">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title><ui:insert name="title" /></title>
    <link href="../css/font-awesome.css" rel="stylesheet"/>
    <link href="../css/bootstrap.min.css" rel="stylesheet"/>
<link href="../css/bootstrap-responsive.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600" rel="stylesheet"/>
<link href="../css/font-awesome.css" rel="stylesheet"/>
<link href="../css/style.css" rel="stylesheet/"/>
<link href="../css/pages/dashboard.css" rel="stylesheet"/>
	<!-- Bootstrap Core CSS -->
	<link href="../template/css/bootstrap.min.css" rel="stylesheet" />
	<link href="../template/css/metisMenu.min.css" rel="stylesheet" />
	<link href="../template/css/startmin.css" rel="stylesheet" />
	<link href="../template/css/font-awesome.min.css" rel="stylesheet"
		type="text/css" />
	<link href="../template/css/style.css" rel="stylesheet" type="text/css" />
	
	<link href="../css/style.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
 
 <link href="../template/css/menustyle.css" rel="stylesheet" type="text/css" />
	 
	
	
	
		
	<f:event type="preRenderView"
		listener="#{personaBean.ValidarSesion()}" />
		
	<!--  -->
	<f:event type="preRenderView"
		listener="#{personaBean.listarCitasID()}" />  
		
 
		
</h:head>
<h:body>

	<div id="wrapper">

		<!-- Navigation -->
		<nav class="navbar-inner" role="navigation">
			<div class="navbar-header">
				<a class="navbar-brand" href="/HospitalUPS/doctor/templateDoctor.xhtml">Citas Por Antender</a>
				<!-- Navigation 
				<h:outputText class="badge badge-sm bg-gradient-success" value='#{session.getAttribute("persona").getIdPersona()}'  />-->
					
			</div>

			<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>

			

			<ul class="nav navbar-right navbar-top-links">
			
				<li class="dropdown"><a  style="color:blue" class="dropdown-toggle"
					data-toggle="dropdown" href="#"> <i class="fa fa-user fa-fw"></i>
						Bienvenido(a):<strong> #{session.getAttribute("persona").getNombres()}</strong>  <b class="caret"></b>
				</a>
					<ul class="dropdown-menu dropdown-user">
						<li><p:commandButton icon="fa fa-fw fa-sign-out"
								action="" value="Cerrar SesiÃ³n"
								styleClass="red-button" /></li>
					</ul></li>
			</ul>
			<!-- /.navbar-top-links -->

	<div class="navbar-default sidebar" role="navigation">
				<div class="sidebar-nav navbar-collapse">
					<ul class="nav" id="side-menu">
 
					 <div class="subnav">
    <button  style="color:blue" class="subnavbtn">Citas Medicas <i class="fa fa-caret-down"></i></button>
    <div   class="subnav-content">
      <a href="/HospitalUPS/doctor/citasporAtender.xhtml"> <i
										class="icon-large icon-indent-right" /> Citas por Atender</a>
										<br/>
      <a href="/HospitalUPS/doctor/citasCanceladas.xhtml"> <i
										class="icon-large icon-indent-right" />Citas Canceladas</a>
										<br/>
     <a href="/HospitalUPS/doctor/crearHistorial.xhtml"> <i
										class="icon-large icon-indent-right" />Gestion Historial</a>
    </div>
  </div> 
							
							
							
							 
					</ul>
				</div>
				<!-- /.sidebar-collapse -->
			</div>
			<!-- /.navbar-static-side -->
		</nav>

		<div id="page-wrapper">
		<form class="navbar-search pull-right">
		    <h5>Ingrese Cedula</h5>
          <h:inputText   class="search-query" id="cedula" value="#{personaBean.cedula}"/>
       
	<h:commandButton action="#{personaBean.buscarCitasCedulas()}" value="Buscar Paciente" >
		<f:ajax execute="cedula"  event="click" render="codigoCita comentarioCita costoCita estadoCita estadoCita fechaCita sintomaCita"/>
	</h:commandButton>
	
	
        </form>
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<h1 class="page-header">
							<ui:insert name="title" />
								
						</h1>
			<h:dataTable id="tablal" value="#{personaBean.citas}" var="cita" styleClass="tabla"
			headerClass="cabeceraTabla" rowClasses="filaPar,filaImpar" class="table align-items-center mb-0">
                
                <h:column> 
                <f:facet class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" name="header">codigo</f:facet>
                <h:outputText class="badge badge-sm bg-gradient-success" id="codigoCita" value="#{cita.idCita}"  />
                </h:column>
                <h:column>
                <f:facet class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" name="header">comentario cita</f:facet>
                <h:outputText class="badge badge-sm bg-gradient-success" id="comentarioCita" value="#{cita.comentarioCita}"  />
                </h:column>
                <h:column>
                <f:facet class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" name="header">Costo</f:facet>
                <h:outputText class="badge badge-sm bg-gradient-success" id="costoCita" value="#{cita.costo}"  /> 
                </h:column>
                  <h:column>
                 <f:facet class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" name="header">Estado Cita</f:facet>
                <h:outputText class="badge badge-sm bg-gradient-success" id="estadoCita" value="#{cita.estadoCita}"  />                 
                </h:column>
                
                <h:column>
                 <f:facet class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" name="header">Fecha</f:facet>
                <h:outputText class="badge badge-sm bg-gradient-success" id="fechaCita" value="#{cita.fechaCita}"  /> 
                	
                </h:column>
               
                <h:column>
                 <f:facet class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7" name="header">Sitomas </f:facet>
                <h:outputText class="badge badge-sm bg-gradient-success" id="sintomaCita" value="#{cita.sintomatologia}"  />                  
                </h:column>
                
               
                <h:column>
				<f:facet name="header">Opcion</f:facet>
				<h:commandLink value="Cancelar" class="btn btn-danger" action="#{personaBean.cancelarCita(cita)}"  />
			</h:column>
			<h:column>
				<f:facet name="header">Opcion</f:facet> 					
				<h:commandLink value="Atender" class="btn btn-success"  action="#{personaBean.atenderCita(cita)}" />
			</h:column>
			
                
                </h:dataTable>
						<ui:insert name="content" />
					</div>
					<!-- /.col-lg-12 -->
				</div>
				<!-- /.row -->
			</div>
			<!-- /.container-fluid -->
		</div>
		<!-- /#page-wrapper -->

	</div>
	<!-- /#wrapper -->

	<!-- Bootstrap Core JavaScript -->
	<script src="../template/js/bootstrap.min.js"></script>

	<!-- Metis Menu Plugin JavaScript -->
	<script src="../template/js/metisMenu.min.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="../template/js/startmin.js"></script>

</h:body>
</html>